package net.mg2013.utils
{
	import flash.geom.Point;

	public class MGMath
	{
		//////////////
		////////////// CONSTRUCTOR ------------------------------------------------------------------------------------------- CONSTRUCTOR //////////////////////
		//////////////
		public static function abs(x:Number):Number
		{
			return (x ^ (x >> 31)) - (x >> 31);
		}

		public static function intersection(p1:Point, p2:Point, p3:Point, p4:Point):Point
		{
			var ip:Point = new Point();
			var nx:Number, ny:Number, dn:Number;
			var x4_x3:Number = p4.x - p3.x;
			var y4_y3:Number = p4.y - p3.y;
			var x2_x1:Number = p2.x - p1.x;
			var y2_y1:Number = p2.y - p1.y;
			var x1_x3:Number = p1.x - p3.x;
			var y1_y3:Number = p1.y - p3.y;
			nx = x4_x3 * y1_y3 - y4_y3 * x1_x3;
			ny = x2_x1 * y1_y3 - y2_y1 * x1_x3;
			dn = y4_y3 * x2_x1 - x4_x3 * y2_y1;
			nx /= dn;
			ny /= dn;
			if (nx >= 0 && nx <= 1 && ny >= 0 && ny <= 1)
			{
				ny = p1.y + nx * y2_y1;
				nx = p1.x + nx * x2_x1;
				ip.x = nx;
				ip.y = ny;
			}
			else
			{
				ip.x = ip.y = -1000;
			}
			return ip
		}
		//////////////
		////////////// PUBLIC ------------------------------------------------------------------------------------------------ PUBLIC ///////////////////////////
		//////////////
		//////////////
		////////////// OVERRIDE PUBLIC --------------------------------------------------------------------------------------- OVERRIDE PUBLIC //////////////////
		//////////////
		//////////////
		////////////// PROTECTED --------------------------------------------------------------------------------------------- PROTECTED ////////////////////////
		//////////////
		//////////////
		////////////// OVERRIDE PROTECTED ------------------------------------------------------------------------------------ OVERRIDE PROTECTED ///////////////
		//////////////
		//////////////
		////////////// MOUSE EVENTS ------------------------------------------------------------------------------------------ MOUSE EVENTS /////////////////////
		//////////////
		//////////////
		////////////// OVERRIDE MOUSE EVENTS --------------------------------------------------------------------------------- OVERRIDE MOUSE EVENTS ////////////
		//////////////
		//////////////
		////////////// EVENTS ------------------------------------------------------------------------------------------------ EVENTS ///////////////////////////
		//////////////
		//////////////
		////////////// OVERRIDE EVENTS --------------------------------------------------------------------------------------- OVERRIDE EVENTS //////////////////
		//////////////
		//////////////
		////////////// GET & SET --------------------------------------------------------------------------------------------- GET & SET ////////////////////////
		//////////////
		//////////////
		////////////// OVERRIDE GET & SET ------------------------------------------------------------------------------------ OVERRIDE GET & SET ///////////////
		//////////////
	}
}
